<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Лабораторна 6</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
  <div class="bg-white shadow-2xl rounded-2xl p-8 w-full max-w-md">
    <h1 class="text-2xl font-bold text-center mb-6 text-indigo-700">
      Перевірка введення даних
    </h1>

    <form id="validationForm" class="space-y-4">
      <div>
        <label class="block font-medium mb-1">E-mail</label>
        <div class="flex items-center gap-2">
          <input id="email" type="text" class="border rounded-lg p-2 w-full focus:outline-none">
          <span id="email-msg" class="text-sm"></span>
        </div>
      </div>

      <div>
        <label class="block font-medium mb-1">Ім’я та прізвище</label>
        <div class="flex items-center gap-2">
          <input id="fullname" type="text" class="border rounded-lg p-2 w-full focus:outline-none">
          <span id="fullname-msg" class="text-sm"></span>
        </div>
      </div>

      <div>
        <label class="block font-medium mb-1">Логін</label>
        <div class="flex items-center gap-2">
          <input id="login" type="text" class="border rounded-lg p-2 w-full focus:outline-none">
          <span id="login-msg" class="text-sm"></span>
        </div>
      </div>

      <div>
        <label class="block font-medium mb-1">Пароль</label>
        <div class="flex items-center gap-2">
          <input id="password" type="password" class="border rounded-lg p-2 w-full focus:outline-none">
          <span id="password-msg" class="text-sm"></span>
        </div>
      </div>

      <div>
        <label class="block font-medium mb-1">Поштовий індекс</label>
        <div class="flex items-center gap-2">
          <input id="zipcode" type="text" class="border rounded-lg p-2 w-full focus:outline-none">
          <span id="zipcode-msg" class="text-sm"></span>
        </div>
      </div>

      <button type="button" id="checkBtn" class="bg-indigo-600 text-white w-full py-2 rounded-lg hover:bg-indigo-700 transition">
        Перевірити
      </button>
    </form>
  </div>

  <script>
    const fields = {
      email: {
        regex: /^[a-z0-9._%+-]+@pnu\.edu\.ua$/i,
        error: "E-mail повинен містити @pnu.edu.ua"
      },
      fullname: {
        regex: /^[A-ZА-ЯІЇЄ][a-zа-яіїє]+ [A-ZА-ЯІЇЄ]+$/,
        error: "Ім’я та прізвище: велика + малі / всі великі"
      },
      login: {
        regex: /^[a-zA-Z0-9]+$/,
        error: "Логін тільки латиниця та цифри"
      },
      password: {
        regex: /^(?=.*[A-Za-z])(?=.*\d)(?=.*[_\-!@#$%^&*])[A-Za-z\d_\-!@#$%^&*]{8,}$/,
        error: "Пароль ≥8 символів, буква, цифра, спецсимвол"
      },
      zipcode: {
        regex: /^\d{5}$/,
        error: "Поштовий індекс має складатись з 5 цифр"
      }
    };

    document.getElementById("checkBtn").addEventListener("click", () => {
      for (const key in fields) {
        const input = document.getElementById(key);
        const msg = document.getElementById(`${key}-msg`);
        const value = input.value.trim();
        const valid = fields[key].regex.test(value);

        if (valid) {
          input.classList.remove("border-red-500");
          input.classList.add("border-green-500");
          msg.textContent = "Схвалено";
          msg.className = "text-green-600";
        } else {
          input.classList.remove("border-green-500");
          input.classList.add("border-red-500");
          msg.textContent = `${fields[key].error}`;
          msg.className = "text-red-600 text-sm";
        }
      }
    });
  </script>

  <button onclick="history.back()"
    class="fixed bottom-6 right-6 w-14 h-14 rounded-full bg-blue-600 text-white flex items-center justify-center shadow-lg hover:bg-blue-700 transition">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
    </svg>
  </button>
</body>
</html>
