<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-6">
    <div class="max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-2 text-center">Математичний тренажер</h2>
        
        <div class="text-center mb-6">
            <p id="scoreText" class="text-lg font-semibold text-blue-600">Загальний рахунок 0% (0 правильних відповідей з 0)</p>
        </div>
        
        <div class="bg-gray-50 rounded-lg p-6 mb-6 border-2 border-gray-200">
            <p id="taskText" class="text-2xl font-bold text-center text-gray-800 mb-4"></p>
            <div class="flex justify-center">
                <input type="number" id="answerInput" class="px-4 py-2 border-2 border-gray-300 rounded-lg text-center text-xl w-32 focus:outline-none focus:border-blue-400">
            </div>
        </div>
        
        <div class="text-center mb-4">
            <p id="resultText" class="text-lg font-semibold min-h-6"></p>
        </div>
        
        <div class="flex gap-3 justify-center">
            <button onclick="checkAnswer()" class="px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all shadow hover:shadow-md font-semibold">Перевірити</button>
            <button onclick="nextTask()" class="px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all shadow hover:shadow-md font-semibold">Наступне завдання</button>
        </div>
    </div>

    <script>
        let score = 0;
        let total = 0;
        let currentTask = {};
        let correctAnswer;
        const maxTasks = 5;

        function generateTask() {
            const a = Math.floor(Math.random() * 10);
            const b = Math.floor(Math.random() * 10);
            const ops = ['+', '-', '*', '/'];
            const op = ops[Math.floor(Math.random() * ops.length)];
            
            let question, answer;
            
            switch(op) {
                case '+':
                    question = `${a} + ${b}`;
                    answer = a + b;
                    break;
                case '-':
                    question = `${a} - ${b}`;
                    answer = a - b;
                    break;
                case '*':
                    question = `${a} × ${b}`;
                    answer = a * b;
                    break;
                case '/':
                    const divisor = b === 0 ? 1 : b;
                    question = `${a * divisor} / ${divisor}`;
                    answer = a;
                    break;
            }
            
            currentTask = { question, answer };
            correctAnswer = answer;
            document.getElementById('taskText').textContent = `${question} = ?`;
            document.getElementById('answerInput').value = '';
            document.getElementById('resultText').textContent = '';
            document.getElementById('answerInput').focus();
        }

        function checkAnswer() {
            if (total >= maxTasks) {
                alert("Всі 5 завдань виконано!");
                return;
            }
            
            const userAnswer = parseInt(document.getElementById('answerInput').value);
            const resultText = document.getElementById('resultText');
            
            if (isNaN(userAnswer)) {
                resultText.textContent = "Будь ласка, введіть число";
                resultText.className = "text-lg font-semibold text-red-600";
                return;
            }
            
            total++;
            
            if (userAnswer === correctAnswer) {
                score++;
                resultText.textContent = "Правильно!";
                resultText.className = "text-lg font-semibold text-green-600";
            } else {
                resultText.textContent = `Помилка, правильна відповідь «${correctAnswer}»`;
                resultText.className = "text-lg font-semibold text-red-600";
            }
            
            updateScore();
            
            if (total >= maxTasks) {
                document.getElementById('taskText').textContent = "Вітаємо! Ви завершили всі завдання!";
                document.getElementById('answerInput').disabled = true;
            }
        }

        function nextTask() {
            if (total >= maxTasks) {
                alert("Всі 5 завдань виконано!");
                return;
            }
            generateTask();
        }

        function updateScore() {
            const percent = total > 0 ? Math.round((score / total) * 100) : 0;
            document.getElementById('scoreText').textContent = `Загальний рахунок ${percent}% (${score} правильних відповідей з ${total})`;
        }

        generateTask();
    </script>

    <button onclick="history.back()"
        class="fixed bottom-6 right-6 w-14 h-14 rounded-full bg-blue-600 text-white flex items-center justify-center shadow-lg hover:bg-blue-700 transition">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
    </button>
</body>
</html>